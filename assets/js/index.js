window.closeModal=e=>{document.querySelector(e).classList.remove("active"),document.body.style.overflow=""};window.openModal=e=>{document.querySelector(e).classList.add("active"),document.body.style.overflow="hidden"};const z=document.querySelectorAll(".modal__overlay, [data-modal-close]"),F=document.querySelectorAll("[data-modal-open]"),$=document.querySelectorAll("[data-change-modal]");F.forEach(e=>{e.addEventListener("click",()=>{const t=e.getAttribute("data-modal-open");window.openModal(t)})});$.forEach(e=>{e.addEventListener("click",()=>{const t=e.getAttribute("data-change-modal");console.log(e);const o=e.closest(".modal").getAttribute("id");window.closeModal(`#${o}`),window.openModal(t)})});z.forEach(e=>{const t=e.closest(".modal").getAttribute("id");e.addEventListener("click",()=>window.closeModal(`#${t}`))});const N=document.querySelectorAll("a");N.forEach(e=>{e.addEventListener("click",t=>{e.getAttribute("href")==="#"&&t.preventDefault()})});const y=document.querySelector(".modal-cookie");if(y){const e=document.querySelectorAll("[data-cookie-close]"),t=document.querySelector("[data-cookie-accept]");e.forEach(o=>{o.addEventListener("click",()=>{y.classList.remove("active")})}),t.addEventListener("click",()=>{localStorage.setItem("cookieAcept","1"),y.classList.remove("active")});var R=localStorage.getItem("cookieAcept");R||y.classList.add("active")}const I=document.querySelector(".menu-button"),k=document.querySelector(".mobile-menu");I&&k&&(I.addEventListener("click",()=>{k.classList.toggle("active")}),document.querySelectorAll(".mobile-menu-link").forEach(t=>{t.addEventListener("click",()=>{k.classList.remove("active")})}));document.addEventListener("DOMContentLoaded",function(){let e=document.querySelectorAll("input[data-tel-input]"),t=function(l){return l.value.replace(/\D/g,"")},o=function(l){let s=l.target,n=t(s),u=l.clipboardData||window.clipboardData;if(u){let i=u.getData("Text");if(/\D/g.test(i)){s.value=n;return}}},c=function(l){let s=l.target,n=t(s),{selectionStart:u}=s,i="";if(!n)return s.value="";if(s.value.length!=u){l.data&&/\D/g.test(l.data)&&(s.value=n);return}if(["7","8","9"].indexOf(n[0])>-1){n[0]=="9"&&(n="7"+n);let w=n[0]=="8"?"8":"+7";i=s.value=w+" ",n.length>1&&(i+="("+n.substring(1,4)),n.length>=5&&(i+=") "+n.substring(4,7)),n.length>=8&&(i+="-"+n.substring(7,9)),n.length>=10&&(i+="-"+n.substring(9,11))}else i="+"+n.substring(0,16);s.value=i},d=function(l){let s=l.target.value.replace(/\D/g,"");l.keyCode==8&&s.length==1&&(l.target.value="")};for(let l of e)l.addEventListener("keydown",d),l.addEventListener("input",c,!1),l.addEventListener("paste",o,!1)});const A=document.querySelector(".scroll-button");A&&document.addEventListener("scroll",()=>{window.scrollY>window.innerHeight?A.classList.add("active"):A.classList.remove("active")});const T=document.querySelectorAll("[data-disabled-button]");T.forEach(e=>{e.addEventListener("change",()=>{const t=e.closest("form").querySelector("[data-submit-button]"),o=e.closest("form").querySelectorAll("[data-disabled-button]");Array.from(o).every(d=>d.checked)?t.classList.remove("disabled"):t.classList.add("disabled")})});const U=document.querySelectorAll("a");U.forEach(e=>{e.addEventListener("click",t=>{if(e.getAttribute("href").startsWith("#")){t.preventDefault();const o=e.getAttribute("href").substring(1);o&&document.getElementById(o).scrollIntoView({behavior:"smooth",block:"start"})}})});window.addEventListener("load",()=>{document.body.classList.add("load")});const W=document.querySelectorAll("[data-window-close]");W.forEach(e=>{e.addEventListener("click",()=>{history.back()})});const H=document.querySelectorAll(".input, .textarea");H.forEach(e=>{e.addEventListener("input",()=>{e.value.length>0?e.classList.add("input--filled"):e.classList.remove("input--filled")})});function Q(){const e=document.querySelector(".test__container");if(!e)return;const t=e.querySelectorAll(".test__item"),o=document.querySelector("#current-question"),c=document.querySelector("#total-questions"),d=document.querySelector("#progress"),l=document.querySelector("#progress-bar");c&&(c.textContent=t.length),o&&(o.textContent=1),d.textContent="0%",l.style.width="0%",t.forEach((s,n)=>{const u=s.querySelectorAll("input"),i=s.querySelector(".modal__button");u.forEach(w=>{w.addEventListener("change",()=>{!!s.querySelector("input:checked")?i.disabled=!1:i.disabled=!0})}),i.addEventListener("click",()=>{n+1<t.length&&(e.querySelector(".test__item.active").classList.remove("active"),t[n+1].classList.add("active"),o.textContent=n+2,d.textContent=`${Math.round((n+1)/t.length*100)}%`,l.style.width=`${Math.round((n+1)/t.length*100)}%`)})})}Q();let h=288,f=0,D=!1,r=null,a=null,q=null,b=null,S=null,P=null,m=null,_=null,x=null,B=null,E=null,M=null,g=null;const p=document.querySelector("#check-input"),j=document.querySelector(".upload-file");function G(){r=document.getElementById("video"),a=document.getElementById("canvas"),q=document.getElementById("photo"),b=document.getElementById("startbutton"),S=document.getElementById("savebutton"),m=document.getElementById("imgContainer"),_=document.querySelector("#file-name"),x=document.querySelector("#file-size"),B=document.querySelector("#file-format"),E=document.querySelector("#result-file-info"),M=document.querySelector(".result__close"),g=document.querySelector("#final-result-file"),!(!p||!j)&&(b.addEventListener("click",function(e){m.classList.add("hide"),r.classList.remove("hide"),navigator.mediaDevices.getUserMedia({video:{facingMode:"environment"},audio:!1}).then(function(t){r.srcObject=t,r.play(),b.classList.add("hide"),S.classList.remove("hide"),P=t.getTracks()[0]}).catch(function(t){console.log("An error occurred: "+t)})}),r.addEventListener("canplay",function(e){D||(f=r.videoHeight/(r.videoWidth/h),r.setAttribute("width",h),r.setAttribute("height",f),a.setAttribute("width",h),a.setAttribute("height",f),D=!0)},!1),S.addEventListener("click",function(e){K(),e.preventDefault()},!1),p.addEventListener("change",function(e){const t=e.target.files[0];if(t){const o=`${(Math.round(+t.size/1024)/1e3).toFixed(2)}MB`,c=t.name.split(".").pop().toUpperCase(),d=t.name;_.textContent=d,x.textContent=o,B.textContent=c;const l=new FileReader;l.readAsDataURL(t),l.addEventListener("load",function(){q.setAttribute("src",l.result)}),m.classList.remove("hide"),E.classList.remove("hide"),Y(t,g)}else E.classList.add("hide"),g.value="",m.classList.add("hide")}),M.addEventListener("click",function(e){p.value=null,p.dispatchEvent(new Event("change")),m.classList.add("hide")}),V())}function V(){let e=a.getContext("2d");e.fillStyle="#AAA",e.fillRect(0,0,a.width,a.height);let t=a.toDataURL("image/png");q.setAttribute("src",t),g.value=""}function K(){let e=a.getContext("2d");if(f){a.width=h,a.height=f,e.drawImage(r,0,0,h,f);let t=a.toDataURL("image/png");q.setAttribute("src",t),g.value=t,_.textContent="Фото с камеры",x.textContent=J(t),B.textContent="PNG",E.classList.remove("hide")}else V();b.classList.remove("hide"),S.classList.add("hide"),P.stop(),r.classList.add("hide"),m.classList.remove("hide")}function Y(e,t){t.value="";let o=new FileReader;o.readAsDataURL(e),o.onload=function(){t.value=o.result},o.onerror=function(c){console.log("Error: ",c)}}function J(e){let t=1;e.endsWith("==")&&(t=2);const o=e.length*(3/4)-t;return`${(+Math.round(o/1024)/1e3).toFixed(2)}MB`}G();const v=document.querySelectorAll(".education__page");v.forEach((e,t)=>{const o=e.querySelector(".prev-button"),c=e.querySelector(".next-button");c&&c.addEventListener("click",()=>{v[t].classList.remove("active"),v[t+1].classList.add("active")}),o&&o.addEventListener("click",()=>{v[t].classList.remove("active"),v[t-1].classList.add("active")})});const L=document.querySelector(".products__container");if(L){const e=L.querySelector(".swiper-prev"),t=L.querySelector(".swiper-next"),o=L.querySelector(".mySwiper");new Swiper(o,{slidesPerView:8,spaceBetween:20,grid:{rows:2},navigation:{nextEl:t,prevEl:e},breakpoints:{992:{slidesPerView:8},641:{slidesPerView:6},200:{slidesPerView:4}}})}const C=document.querySelector(".questions__more");if(C){const e=C.querySelector(".questions__more-show"),t=C.querySelector(".questions__more-hide");e.addEventListener("click",()=>{document.querySelector(".questions").classList.add("opened")}),t.addEventListener("click",()=>{document.querySelector(".questions").classList.remove("opened")})}
