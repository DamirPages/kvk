window.closeModal=e=>{document.querySelector(e).classList.remove("active"),document.body.style.overflow=""};window.openModal=e=>{document.querySelector(e).classList.add("active"),document.body.style.overflow="hidden"};const V=document.querySelectorAll(".modal__overlay, [data-modal-close]"),z=document.querySelectorAll("[data-modal-open]"),$=document.querySelectorAll("[data-change-modal]");z.forEach(e=>{e.addEventListener("click",()=>{const t=e.getAttribute("data-modal-open");window.openModal(t)})});$.forEach(e=>{e.addEventListener("click",()=>{const t=e.getAttribute("data-change-modal");console.log(e);const n=e.closest(".modal").getAttribute("id");window.closeModal(`#${n}`),window.openModal(t)})});V.forEach(e=>{const t=e.closest(".modal").getAttribute("id");e.addEventListener("click",()=>window.closeModal(`#${t}`))});const N=document.querySelectorAll("a");N.forEach(e=>{e.addEventListener("click",t=>{e.getAttribute("href")==="#"&&t.preventDefault()})});const p=document.querySelector(".modal-cookie");if(p){const e=document.querySelectorAll("[data-cookie-close]"),t=document.querySelector("[data-cookie-accept]");e.forEach(n=>{n.addEventListener("click",()=>{p.classList.remove("active")})}),t.addEventListener("click",()=>{localStorage.setItem("cookieAcept","1"),p.classList.remove("active")});var R=localStorage.getItem("cookieAcept");R||p.classList.add("active")}const I=document.querySelector(".menu-button"),k=document.querySelector(".mobile-menu");I&&k&&(I.addEventListener("click",()=>{k.classList.toggle("active")}),document.querySelectorAll(".mobile-menu-link").forEach(t=>{t.addEventListener("click",()=>{k.classList.remove("active")})}));document.addEventListener("DOMContentLoaded",function(){let e=document.querySelectorAll("input[data-tel-input]"),t=function(l){return l.value.replace(/\D/g,"")},n=function(l){let s=l.target,o=t(s),u=l.clipboardData||window.clipboardData;if(u){let i=u.getData("Text");if(/\D/g.test(i)){s.value=o;return}}},c=function(l){let s=l.target,o=t(s),{selectionStart:u}=s,i="";if(!o)return s.value="";if(s.value.length!=u){l.data&&/\D/g.test(l.data)&&(s.value=o);return}if(["7","8","9"].indexOf(o[0])>-1){o[0]=="9"&&(o="7"+o);let w=o[0]=="8"?"8":"+7";i=s.value=w+" ",o.length>1&&(i+="("+o.substring(1,4)),o.length>=5&&(i+=") "+o.substring(4,7)),o.length>=8&&(i+="-"+o.substring(7,9)),o.length>=10&&(i+="-"+o.substring(9,11))}else i="+"+o.substring(0,16);s.value=i},d=function(l){let s=l.target.value.replace(/\D/g,"");l.keyCode==8&&s.length==1&&(l.target.value="")};for(let l of e)l.addEventListener("keydown",d),l.addEventListener("input",c,!1),l.addEventListener("paste",n,!1)});const A=document.querySelector(".scroll-button");A&&document.addEventListener("scroll",()=>{window.scrollY>window.innerHeight?A.classList.add("active"):A.classList.remove("active")});const T=document.querySelectorAll("[data-disabled-button-form]");T.forEach(e=>{const t=e.querySelector("[data-submit-button]"),n=e.querySelectorAll("[data-disabled-button-input]"),c=e.querySelectorAll("[data-disabled-button-checkbox]");n.forEach(d=>{d.addEventListener("input",()=>{const l=Array.from(n).every(o=>o.value.length>0),s=Array.from(c).every(o=>o.checked);l&&s?t.classList.remove("disabled"):t.classList.add("disabled")})}),c.forEach(d=>{d.addEventListener("change",()=>{const l=Array.from(n).every(o=>o.value.length>0),s=Array.from(c).every(o=>o.checked);l&&s?t.classList.remove("disabled"):t.classList.add("disabled")})})});const U=document.querySelectorAll("a");U.forEach(e=>{e.addEventListener("click",t=>{if(e.getAttribute("href").startsWith("#")){t.preventDefault();const n=e.getAttribute("href").substring(1);n&&document.getElementById(n).scrollIntoView({behavior:"smooth",block:"start"})}})});window.addEventListener("load",()=>{document.body.classList.add("load")});const W=document.querySelectorAll("[data-window-close]");W.forEach(e=>{e.addEventListener("click",()=>{history.back()})});const H=document.querySelectorAll(".input, .textarea");H.forEach(e=>{e.addEventListener("input",()=>{e.value.length>0?e.classList.add("input--filled"):e.classList.remove("input--filled")})});function Q(){const e=document.querySelector(".test__container");if(!e)return;const t=e.querySelectorAll(".test__item"),n=document.querySelector("#current-question"),c=document.querySelector("#total-questions"),d=document.querySelector("#progress"),l=document.querySelector("#progress-bar");c&&(c.textContent=t.length),n&&(n.textContent=1),d.textContent="0%",l.style.width="0%",t.forEach((s,o)=>{const u=s.querySelectorAll("input"),i=s.querySelector(".modal__button");u.forEach(w=>{w.addEventListener("change",()=>{!!s.querySelector("input:checked")?i.disabled=!1:i.disabled=!0})}),i.addEventListener("click",()=>{o+1<t.length&&(e.querySelector(".test__item.active").classList.remove("active"),t[o+1].classList.add("active"),n.textContent=o+2,d.textContent=`${Math.round((o+1)/t.length*100)}%`,l.style.width=`${Math.round((o+1)/t.length*100)}%`)})})}Q();let g=288,v=0,D=!1,r=null,a=null,q=null,b=null,S=null,F=null,m=null,x=null,_=null,B=null,E=null,M=null,y=null;const L=document.querySelector("#check-input"),j=document.querySelector(".upload-file");function G(){r=document.getElementById("video"),a=document.getElementById("canvas"),q=document.getElementById("photo"),b=document.getElementById("startbutton"),S=document.getElementById("savebutton"),m=document.getElementById("imgContainer"),x=document.querySelector("#file-name"),_=document.querySelector("#file-size"),B=document.querySelector("#file-format"),E=document.querySelector("#result-file-info"),M=document.querySelector(".result__close"),y=document.querySelector("#final-result-file"),!(!L||!j)&&(b.addEventListener("click",function(e){m.classList.add("hide"),r.classList.remove("hide"),navigator.mediaDevices.getUserMedia({video:{facingMode:"environment"},audio:!1}).then(function(t){r.srcObject=t,r.play(),b.classList.add("hide"),S.classList.remove("hide"),F=t.getTracks()[0]}).catch(function(t){console.log("An error occurred: "+t)})}),r.addEventListener("canplay",function(e){D||(v=r.videoHeight/(r.videoWidth/g),r.setAttribute("width",g),r.setAttribute("height",v),a.setAttribute("width",g),a.setAttribute("height",v),D=!0)},!1),S.addEventListener("click",function(e){K(),e.preventDefault()},!1),L.addEventListener("change",function(e){const t=e.target.files[0];if(t){const n=`${(Math.round(+t.size/1024)/1e3).toFixed(2)}MB`,c=t.name.split(".").pop().toUpperCase(),d=t.name;x.textContent=d,_.textContent=n,B.textContent=c;const l=new FileReader;l.readAsDataURL(t),l.addEventListener("load",function(){q.setAttribute("src",l.result)}),m.classList.remove("hide"),E.classList.remove("hide"),Y(t,y)}else E.classList.add("hide"),y.value="",m.classList.add("hide")}),M.addEventListener("click",function(e){L.value=null,L.dispatchEvent(new Event("change")),m.classList.add("hide")}),P())}function P(){let e=a.getContext("2d");e.fillStyle="#AAA",e.fillRect(0,0,a.width,a.height);let t=a.toDataURL("image/png");q.setAttribute("src",t),y.value=""}function K(){let e=a.getContext("2d");if(v){a.width=g,a.height=v,e.drawImage(r,0,0,g,v);let t=a.toDataURL("image/png");q.setAttribute("src",t),y.value=t,x.textContent="Фото с камеры",_.textContent=J(t),B.textContent="PNG",E.classList.remove("hide")}else P();b.classList.remove("hide"),S.classList.add("hide"),F.stop(),r.classList.add("hide"),m.classList.remove("hide")}function Y(e,t){t.value="";let n=new FileReader;n.readAsDataURL(e),n.onload=function(){t.value=n.result},n.onerror=function(c){console.log("Error: ",c)}}function J(e){let t=1;e.endsWith("==")&&(t=2);const n=e.length*(3/4)-t;return`${(+Math.round(n/1024)/1e3).toFixed(2)}MB`}G();const f=document.querySelectorAll(".education__page");f.forEach((e,t)=>{const n=e.querySelector(".prev-button"),c=e.querySelector(".next-button");c&&c.addEventListener("click",()=>{f[t].classList.remove("active"),f[t+1].classList.add("active")}),n&&n.addEventListener("click",()=>{f[t].classList.remove("active"),f[t-1].classList.add("active")})});const h=document.querySelector(".products__container");if(h){const e=h.querySelector(".swiper-prev"),t=h.querySelector(".swiper-next"),n=h.querySelector(".mySwiper"),c=h.querySelector(".bullets");new Swiper(n,{slidesPerView:8,spaceBetween:20,grid:{rows:2},navigation:{nextEl:t,prevEl:e},pagination:{el:c},breakpoints:{992:{slidesPerView:8},641:{slidesPerView:6},200:{slidesPerView:4}}})}const C=document.querySelector(".questions__more");if(C){const e=C.querySelector(".questions__more-show"),t=C.querySelector(".questions__more-hide");e.addEventListener("click",()=>{document.querySelector(".questions").classList.add("opened")}),t.addEventListener("click",()=>{document.querySelector(".questions").classList.remove("opened")})}
